# ICP Configuration for ZoomInfo Lead Pipeline
# This file controls filtering, scoring, and budget settings

# Hard Filters (applied at API level to avoid wasting credits)
hard_filters:
  employee_count:
    minimum: 50
    maximum: 5000

  # SIC codes - 25 target codes for ZoomInfo queries
  # Source: ZoomInfo account filter (2026-01-30) + 3 from HLM delivery data
  sic_codes:
    - "3531"    # Construction Machinery
    - "3599"    # Industrial Machinery NEC
    - "3999"    # Manufacturing Industries NEC
    - "4213"    # Trucking, Except Local (NEW - 19.0% delivery rate)
    - "4225"    # General Warehousing and Storage
    - "4231"    # Terminal and Joint Terminal Maintenance
    - "4581"    # Services to Air Transportation (NEW - 27.3% delivery rate)
    - "4731"    # Freight Transportation Arrangement (NEW - 20.0% delivery rate)
    - "5511"    # Motor Vehicle Dealers (New and Used)
    - "7011"    # Hotels and Motels
    - "7021"    # Rooming and Boarding Houses
    - "7033"    # Recreational Vehicle Parks
    - "7359"    # Equipment Rental and Leasing NEC
    - "7991"    # Physical Fitness Facilities
    - "8051"    # Skilled Nursing Care Facilities
    - "8059"    # Nursing and Personal Care NEC
    - "8062"    # General Medical and Surgical Hospitals
    - "8211"    # Elementary and Secondary Schools
    - "8221"    # Colleges and Universities
    - "8322"    # Individual and Family Social Services
    - "8331"    # Job Training and Vocational Rehab
    - "8361"    # Residential Care
    - "9223"    # Correctional Institutions
    - "9229"    # Public Order and Safety NEC
    - "9711"    # National Security

# Scoring Weights (must sum to 1.0 for each workflow)
scoring:
  intent:
    signal_strength: 0.50
    onsite_likelihood: 0.25
    freshness: 0.25

  # Intent contact scoring (contacts found at intent companies)
  intent_contact:
    company_intent: 0.60
    authority: 0.15
    accuracy: 0.15
    phone: 0.10

  geography:
    proximity: 0.40
    onsite_likelihood: 0.25
    authority: 0.15
    employee_scale: 0.20

# Authority Scores by Management Level
authority_scores:
  "C Level Exec": 100
  "VP Level Exec": 85
  "Director": 75
  "Manager": 60
  "Board Member": 50
  "Non Manager": 30
  default: 40

# Title keywords that indicate vending-relevant authority (+10 bonus, cap 100)
authority_title_keywords:
  - "facilities"
  - "operations"
  - "vending"
  - "food service"
  - "hospitality"
  - "building"
  - "property"

# Intent Signal Strength Scores
signal_strength_scores:
  High: 100
  Medium: 70
  Low: 40

# Intent Freshness Tiers
freshness:
  hot:
    max_days: 3
    multiplier: 1.0
    label: "Hot"
  warm:
    max_days: 7
    multiplier: 0.7
    label: "Warm"
  cooling:
    max_days: 14
    multiplier: 0.4
    label: "Cooling"
  stale:
    max_days: 999
    multiplier: 0.0
    label: "Stale"

# On-site Likelihood by SIC Code (for scoring)
# Scores derived from HLM delivery data (N=3,135, Delivered vs Not Delivered)
# Min-max scaled: best SIC=100, worst SIC=20, min 10 records required
# SICs without sufficient data use the default score
onsite_likelihood:
  sic_scores:
    "3599":  47    # Industrial Machinery NEC         (N=33, rate=9.1%)
    "3999":  35    # Manufacturing Industries NEC      (N=76, rate=5.3%)
    "4213":  76    # Trucking, Except Local            (N=79, rate=19.0%)
    "4581": 100    # Services to Air Transportation    (N=11, rate=27.3%)
    "4731":  79    # Freight Transportation            (N=20, rate=20.0%)
    "5511":  43    # Motor Vehicle Dealers             (N=379, rate=7.9%)
    "7011":  40    # Hotels and Motels                 (N=410, rate=6.8%)
    "7991":  50    # Physical Fitness Facilities       (N=39, rate=10.3%)
    "8051":  42    # Skilled Nursing Care              (N=245, rate=7.3%)
    "8059":  56    # Nursing and Personal Care NEC     (N=146, rate=12.3%)
    "8062":  33    # General Medical Hospitals         (N=133, rate=4.5%)
    "8211":  37    # Elementary and Secondary Schools  (N=236, rate=5.9%)
    "8221":  41    # Colleges and Universities         (N=28, rate=7.1%)
    "8322":  31    # Individual and Family Services    (N=78, rate=3.8%)
    "8331":  51    # Job Training and Vocational Rehab (N=67, rate=10.4%)
    "8361":  71    # Residential Care                  (N=218, rate=17.4%)
  default: 40            # Unknown/insufficient data SICs

# Employee Scale Scoring (for geography workflow)
# Scores derived from HLM delivery data â€” small companies convert best
employee_scale:
  - min: 50
    max: 100
    score: 100   # 10.0% delivery rate (was 40)
  - min: 101
    max: 500
    score: 80    # 7.7% delivery rate (was 70)
  - min: 501
    max: 999999
    score: 20    # 1.0% delivery rate (was 100)

# Proximity Scoring (for geography workflow)
# Score based on distance from target zip
proximity:
  - max_miles: 5
    score: 100
  - max_miles: 10
    score: 85
  - max_miles: 25
    score: 70
  - max_miles: 50
    score: 50
  - max_miles: 100
    score: 30

# Budget Controls
budget:
  intent:
    weekly_cap: 500
    alerts:
      - 0.50
      - 0.80
      - 0.95
  geography:
    weekly_cap: null  # Unlimited
    alerts: []

# Cache Settings
cache:
  ttl_days: 7
  enabled: true

# Call Center Agents (round-robin Contact Owner assignment)
# These emails are assigned to records evenly across each export batch
call_center_agents:
  - "courtney@hlmii.com"
  - "caitlyn@hlmii.com"
  - "caroline@hlmii.com"
  - "dodie@hlmii.com"
  - "chelsie@hlmii.com"

# Intent Topics
intent_topics:
  primary:
    - "Vending Machines"
    - "Breakroom Solutions"
  expansion:
    - "Coffee Services"
    - "Water Coolers"

# Automation settings for headless pipeline scripts
automation:
  intent:
    topics: ["Vending Machines", "Breakroom Solutions"]
    signal_strengths: ["High", "Medium"]
    target_companies: 25
    management_levels: ["Manager", "Director", "VP Level Exec"]
    accuracy_min: 95
    phone_fields: ["mobilePhone", "directPhone", "phone"]
    dedup_days_back: 180
